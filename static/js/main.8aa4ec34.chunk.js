(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);a(91);var n=a(0),o=a.n(n),r=a(17),l=a.n(r),i=a(8),s=a(9),c=a(14),d=a(12),u=a(2),p=a(13),h=a(34),m=a.n(h),g={login:"/users/login",register:"/users/register",weightObtainAll:"/users/weight",weightLog:"/users/weight",delete:"/users/delete"},f={add:"/goals/add",update:"/goals/update",delete:"/goals/delete"},b={add:"/workouts/add",update:"/workouts/update",done:"/workouts/done",delete:"/workouts/delete",last:"/workouts/last"},k={update:"/exercises/update",stats:"/exercises/stats"},C="/ping",v=function(e,t){return e+t},y=a(32),x=a.n(y),E=function(e){var t={u_uname:e.username,u_passw:e.password};return JSON.stringify(t)},O=function(e){var t=e.username,a=e.password,n=e.height,o=e.weight,r=e["first name"],l=e["last name"],i={u_id:x()(),u_uname:t,u_passw:a,u_first_name:r,u_last_name:l,u_height:parseFloat(n),u_weight:parseFloat(o),u_date_created:(new Date).toISOString().split("Z")[0]};return JSON.stringify(i)},j=function(e){var t,a=[];for(var n in e)a.push({c_id:(t=e[n]).id,c_intensity:t.intensity,c_reps:t.reps,c_rest:t.rest});return a},S=function(e){var t=e.id,a=e.name,n=e.note,o=e.seq,r=e.sets;return{e_id:t,e_name:a,e_note:n,e_seq:o,e_unit:e.units,e_cycles:j(r)}},N=function(e){var t=e.id,a=e.units,n=e.note,o=e.sets;return{e_id:t,e_unit:a,e_note:n,e_cycles:j(o)}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];for(var n in e)t?a.push(N(e[n])):a.push(S(e[n]));return a},A=a(49),D=a(33),M=a.n(D),T=a(111),R=a(137),W=a(138),B=a(40),G=a(5),U=function(e){return{title:{fontFamily:e.typography.titleFontFamily,color:e.palette.primary.main,letterSpacing:"5px",fontSize:"2rem",padding:"8px 32px"},navbar:{zIndex:e.zIndex.drawer+1,background:e.palette.secondary.dark,display:"grid",gridTemplateColumns:"1fr 1fr",height:"4rem",gridArea:"navbar"},linkContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center"},link:{color:Object(G.darken)(e.palette.primary.main,.2),background:"transparent",border:"none",letterSpacing:"2px",fontSize:"1rem",padding:"0px 32px 0px 0px",cursor:"pointer",transitionDuration:"200ms",outline:"none","&:hover":{color:e.palette.primary.main}}}},I=Object(T.a)(U)(function(e){var t=Object(R.a)({disableHysteresis:!0,threshold:8}),a=e.classes;return o.a.createElement(W.a,{elevation:t?3:0,component:"nav",className:"".concat(a.navbar)},o.a.createElement(B.a,{className:a.title,component:"h1"},"FETZEN"),o.a.createElement("div",{className:"".concat(a.linkContainer)},o.a.createElement(B.a,{className:a.link,component:"button",onClick:e.handleLogWeightClick},"Log Weight"),o.a.createElement(B.a,{className:a.link,component:"button",onClick:e.handleProfileClick},"Profile"),o.a.createElement(B.a,{className:a.link,component:"button",onClick:e.handleLogout},"Logout")))}),_=a(168),H=a(155),L=a(140),z=a(143),F=a(144),P=a(145),q=a(146),V=a(148),J=a(141),$=a(142),K=a(147),Y=a(149),Z=function(e){return{titleContainer:{display:"flex",justifyContent:"space-between"},listTitleText:{padding:0,margin:"12px 16px 8px",fontSize:"0.8em",textTransform:"uppercase",cursor:"pointer",fontWeight:"bold",color:e.palette.secondary.main},collapseButton:{width:"1.5rem",height:"1.5rem",margin:"8px 8px 8px 0px",color:e.palette.secondary.main,padding:"0px",minWidth:"0px","&:focus":{backgroundColor:Object(G.fade)(e.palette.secondary.main,.25),color:e.palette.secondary.main}},list:{color:e.palette.secondary.dark,padding:0},listItemIcon:{color:e.palette.secondary.dark},listItem:{padding:"4px 16px"},addButtonContainer:{width:"100%"},addButton:{display:"block",margin:"8px auto",color:e.palette.secondary.dark}}},Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={expand:!0},a.handleCollapseButton=a.handleCollapseButton.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleCollapseButton",value:function(){this.setState(function(e){return{expand:!e.expand}})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.workouts,n=e.handleWorkoutModalOpen,r=e.handleWorkoutAddModalToggle,l=this.state.expand;return o.a.createElement("div",null,o.a.createElement("div",{className:t.titleContainer},o.a.createElement(B.a,{className:t.listTitleText,component:"h3",onClick:this.handleCollapseButton},"Workouts"),o.a.createElement(L.a,{disableRipple:!0,size:"small",className:t.collapseButton,onClick:this.handleCollapseButton},l?o.a.createElement(J.a,null):o.a.createElement($.a,null))),o.a.createElement(z.a,{in:l},o.a.createElement(F.a,{className:t.list},a.map(function(e,a){var r=e.name;return o.a.createElement(P.a,{button:!0,key:a,className:t.listItem,onClick:function(){n(a)}},o.a.createElement(q.a,{className:t.listItemIcon},o.a.createElement(K.a,null)),o.a.createElement(V.a,{primary:r,className:t.listItemText}))})),o.a.createElement("div",{className:t.addButtonContainer},o.a.createElement(L.a,{className:t.addButton,"iaria-label":"add-workout",size:"small",onClick:r},o.a.createElement(Y.a,null)))))}}]),t}(o.a.Component),X=Object(T.a)(Z)(Q),ee=a(48),te=function(e){return{container:{backgroundColor:e.palette.secondary.main,padding:"16px",textAlign:"center",minWidth:"400px"},title:{color:Object(G.darken)(e.palette.primary.main,.3),fontSize:"1.1rem",letterSpacing:"1px"},form:{display:"flex",flexDirection:"column"},input:{marginTop:"16px",color:e.palette.primary.main},error:{textTransform:"uppercase",fontSize:"0.7rem",marginTop:"8px",fontWeight:"300",letterSpacing:"1px",color:e.palette.error[400]},buttonContainer:{marginTop:"16px",display:"flex",justifyContent:"space-between"},button:{padding:"0px",color:Object(G.darken)(e.palette.primary.main,.3),"&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}}}},ae=a(154),ne=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];Object(i.a)(this,e),this.id=x()(),this.fname=t,this.lname=a,this.name=t+" "+a,this.weight=n,this.height=o,this.goals=r,this.workouts=l},oe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;Object(i.a)(this,e),this.id=x()(),this.title=t,this.detail=a,this.deadline=n,this.complete=o,this.dateCompleted=r},re=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(i.a)(this,e),this.id=x()(),this.name=t,this.days=a,this.exercises=n,this.last=o,this.note=r},le=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kg",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(i.a)(this,e),this.id=x()(),this.name=t,this.sets=a,this.units=n,this.note=o},ie=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(i.a)(this,e),this.id=x()(),this.intensity=t,this.reps=a,this.rest=n},se=a(150),ce=Object(T.a)(function(e){return{root:{"& .MuiButton-label":{display:"flex",justifyContent:"flex-end"}}}})(se.a),de=Object(T.a)(function(e){return{root:{"& .MuiButton-label":{display:"flex",justifyContent:"flex-start"}}}})(se.a),ue=a(151),pe=Object(T.a)(function(e){return{root:{"& .MuiPaper-rounded":{borderRadius:"0px",backgroundColor:e.palette.secondary.main}}}})(ue.a),he=a(166),me=Object(T.a)(function(e){return{root:{"& label":{color:Object(G.darken)(e.palette.primary.main,.2)},"& .MuiInput-underline:before":{borderBottom:"solid 1px ".concat(Object(G.fade)(e.palette.primary.main,.5))},"& .MuiInput-underline:after":{borderBottom:"solid 2px ".concat(Object(G.darken)(e.palette.primary.main,.2))},"& .MuiInput-underline:hover:not($disabled):not($focused):not($error):before":{height:"1px",border:"1px solid ".concat(Object(G.darken)(e.palette.primary.main,.4))},"& .MuiInputBase-input":{color:e.palette.primary.main},"& .MuiInputBase-input::-webkit-inner-spin-button":{appearance:"none"}}}})(he.a),ge=Object(T.a)(function(e){return{root:{"& .MuiInput-underline:before":{borderBottom:"none"},"& .MuiInput-underline:hover:not($disabled):not($focused):not($error):before":{height:"0px",border:"none"},"& .MuiInput-underline:after":{borderBottom:"solid 2px ".concat(Object(G.darken)(e.palette.primary.main,.2))},"& .MuiInputBase-input":{color:e.palette.primary.main,textAlign:"end",cursor:"pointer"},"& .MuiInputBase-root":{cursor:"default"},"& .MuiInputBase-input::-webkit-inner-spin-button":{appearance:"none"},"& .MuiTypography-colorTextSecondary":{color:e.palette.primary.dark}}}})(he.a),fe=Object(T.a)(function(e){return{root:{"& .MuiInputBase-input":{textAlign:"center",cursor:"pointer"}}}})(ge),be=Object(T.a)(function(e){return{root:{"& .MuiInputBase-input":{color:e.palette.primary.main,fontSize:"1.2rem",letterSpacing:"2px",fontWeight:"bold",textAlign:"start",cursor:"pointer"}}}})(ge),ke=Object(T.a)(function(e){return{root:{"& .MuiInputBase-input":{fontWeight:"normal",letterSpacing:"1px"}}}})(be),Ce=me,ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={error:!1,notEntered:"",title:"",detail:"",deadline:""},a.inputChangeHandler=a.inputChangeHandler.bind(Object(u.a)(a)),a.addGoalHandler=a.addGoalHandler.bind(Object(u.a)(a)),a.closeHandler=a.closeHandler.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"inputChangeHandler",value:function(e){var t,a=e.target,n=a.name,o=a.value;this.setState((t={},Object(ee.a)(t,n,o),Object(ee.a)(t,"error",!1),t))}},{key:"closeHandler",value:function(){this.setState({error:!1,notEntered:"",title:"",detail:"",deadline:""}),this.props.handleClose()}},{key:"addGoalHandler",value:function(){var e=this.state,t=e.title,a=e.detail,n=e.deadline;if(""===t)this.setState({notEntered:"title",error:!0});else if(""===a)this.setState({notEntered:"detail",error:!0});else if(""===n)this.setState({notEntered:"deadline",error:!0});else{var o=new oe(t,a,new Date(n));this.props.handleGoalAdd(o),this.props.handleClose()}}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleClose,n=t.open,r=t.classes;return o.a.createElement(pe,{open:n,className:"".concat(r.paper),onKeyPress:function(t){"Enter"===t.key&&e.addGoalHandler()}},o.a.createElement(ae.a,{onClickAway:a},o.a.createElement("div",{className:"".concat(r.container)},o.a.createElement(B.a,{component:"h2",className:"".concat(r.title)},"Add Goal"),o.a.createElement("div",{className:"".concat(r.form)},o.a.createElement(Ce,{name:"title",label:"Title",type:"text",className:"".concat(r.input),onChange:this.inputChangeHandler}),o.a.createElement(Ce,{name:"detail",label:"Detail",multiline:!0,className:"".concat(r.input),onChange:this.inputChangeHandler}),o.a.createElement(Ce,{name:"deadline",label:"Deadline",type:"date",className:"".concat(r.input),InputLabelProps:{shrink:!0},onChange:this.inputChangeHandler})),o.a.createElement(z.a,{in:this.state.error},o.a.createElement(B.a,{component:"p",className:"".concat(r.error)},this.state.notEntered," is required")),o.a.createElement("div",{className:"".concat(r.buttonContainer)},o.a.createElement(de,{className:"".concat(r.button),onClick:this.addGoalHandler,disableRipple:!0},"add"),o.a.createElement(ce,{className:"".concat(r.button),onClick:this.closeHandler,disableRipple:!0},"close")))))}}]),t}(o.a.Component),ye=Object(T.a)(te)(ve),xe={kg:"kg",lb:"lb",kmph:"kmph",mph:"mph"},Ee="goals",Oe="workouts",je="title",Se="detail",Ne="deadline",we="complete",Ae="dateCompleted",De={name:"name",days:"days",exercises:"exercises",last:"last",note:"note"},Me={name:"name",sets:"sets",units:"units",note:"note"},Te="intensity",Re="reps",We="rest",Be=function(e){return{container:{backgroundColor:e.palette.secondary.main,padding:"16px",textAlign:"center",minWidth:"400px",maxWidth:"700px"},title:{fontWeight:"bold",fontSize:"1.2rem",color:e.palette.primary.main},detail:{marginTop:"24px",color:e.palette.primary.main},deadline:{marginTop:"4px",color:Object(G.darken)(e.palette.primary.main,.2),fontSize:"0.8rem"},buttonContainer:{marginTop:"16px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},button:{padding:"0px",color:Object(G.darken)(e.palette.primary.main,.3),"&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}}}},Ge=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.goal,a=e.handleNotDone,n=e.handleDone,r=e.handleClose,l=e.handleGoalDelete,i=e.open,s=this.props.classes;return o.a.createElement(pe,{open:i,className:"".concat(s.paper),onKeyPress:function(e){"Enter"===e.key&&a()}},o.a.createElement(ae.a,{onClickAway:r},o.a.createElement("div",{className:"".concat(s.container)},o.a.createElement(B.a,{component:"h2",className:"".concat(s.title)},t[je]),o.a.createElement(B.a,{className:"".concat(s.detail)},t[Se]),t[we]?o.a.createElement(B.a,{className:"".concat(s.deadline)},t[Ae].toDateString()):o.a.createElement(B.a,{className:"".concat(s.deadline)},t[Ne].toDateString()),o.a.createElement("div",{className:"".concat(s.buttonContainer)},o.a.createElement(de,{className:"".concat(s.button),onClick:a,disableRipple:!0},"not done"),o.a.createElement(se.a,{className:"".concat(s.button),onClick:function(){return l(t.id)},disableRipple:!0},"remove goal"),o.a.createElement(ce,{className:"".concat(s.button),onClick:n,disableRipple:!0},"done")))))}}]),t}(o.a.Component),Ue=Object(T.a)(Be)(Ge),Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={expand:!0,openModal:0,goalModalOpen:!1,goalAddModalOpen:!1},a.handleGoalAddClick=a.handleGoalAddClick.bind(Object(u.a)(a)),a.handleGoalClick=a.handleGoalClick.bind(Object(u.a)(a)),a.handleGoalModalClose=a.handleGoalModalClose.bind(Object(u.a)(a)),a.handleGoalAddModalClose=a.handleGoalAddModalClose.bind(Object(u.a)(a)),a.handleGoalDone=a.handleGoalDone.bind(Object(u.a)(a)),a.handleGoalNotDone=a.handleGoalNotDone.bind(Object(u.a)(a)),a.handleCollapseButton=a.handleCollapseButton.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleGoalClick",value:function(e){this.setState(function(t){return{goalModalOpen:!t.goalModalOpen,openModal:e}})}},{key:"handleGoalAddClick",value:function(){this.setState(function(e){return{goalAddModalOpen:!e.goalAddModalOpen}})}},{key:"handleGoalModalClose",value:function(){this.setState(function(e){return{goalModalOpen:!e.goalModalOpen}})}},{key:"handleGoalNotDone",value:function(){this.handleGoalModalClose()}},{key:"handleGoalDone",value:function(){this.handleGoalModalClose(),this.props.handleGoalUpdate(this.state.openModal,!0)}},{key:"handleGoalAddModalClose",value:function(){this.setState(function(e){return{goalAddModalOpen:!e.goalAddModalOpen}})}},{key:"handleCollapseButton",value:function(){this.setState(function(e){return{expand:!e.expand}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.goals,r=t.handleGoalAdd,l=t.handleGoalDelete,i=this.state,s=i.expand,c=i.goalAddModalOpen,d=i.goalModalOpen,u=i.openModal,p=n.filter(function(e){return e.id===u})[0];return o.a.createElement("div",null,o.a.createElement("div",{className:a.titleContainer},o.a.createElement(B.a,{className:a.listTitleText,component:"h3",onClick:this.handleCollapseButton},"Goals"),o.a.createElement(L.a,{disableRipple:!0,size:"small",className:a.collapseButton,onClick:this.handleCollapseButton},s?o.a.createElement(J.a,null):o.a.createElement($.a,null))),o.a.createElement(z.a,{in:s},o.a.createElement(F.a,{className:a.list},n.map(function(t,n){var r=t.title,l=t.id;return o.a.createElement(P.a,{button:!0,key:n,className:a.listItem,onClick:function(){return e.handleGoalClick(l)}},o.a.createElement(q.a,{className:a.listItemIcon},o.a.createElement(K.a,null)),o.a.createElement(V.a,{primary:r,className:a.listItemText}))})),o.a.createElement("div",{className:a.addButtonContainer},o.a.createElement(L.a,{className:a.addButton,"aria-label":"add-goal",onClick:this.handleGoalAddClick,size:"small"},o.a.createElement(Y.a,null)))),p&&o.a.createElement(Ue,{open:d,goal:p,handleNotDone:this.handleGoalNotDone,handleDone:this.handleGoalDone,handleClose:this.handleGoalModalClose,handleGoalDelete:l}),o.a.createElement(ye,{open:c,handleClose:this.handleGoalAddModalClose,handleGoalAdd:r}))}}]),t}(o.a.Component),_e=Object(T.a)(Z)(Ie),He=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={expand:!1,openModal:0,goalModalOpen:!1,goalAddModalOpen:!1},a.handleGoalClick=a.handleGoalClick.bind(Object(u.a)(a)),a.handleGoalModalClose=a.handleGoalModalClose.bind(Object(u.a)(a)),a.handleGoalDone=a.handleGoalDone.bind(Object(u.a)(a)),a.handleGoalNotDone=a.handleGoalNotDone.bind(Object(u.a)(a)),a.handleCollapseButton=a.handleCollapseButton.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleGoalClick",value:function(e){this.setState(function(t){return{goalModalOpen:!t.goalModalOpen,openModal:e}})}},{key:"handleGoalModalClose",value:function(){this.setState(function(e){return{goalModalOpen:!e.goalModalOpen}})}},{key:"handleGoalNotDone",value:function(){this.handleGoalModalClose(),this.props.handleGoalUpdate(this.state.openModal,!1)}},{key:"handleGoalDone",value:function(){this.handleGoalModalClose()}},{key:"handleCollapseButton",value:function(){this.setState(function(e){return{expand:!e.expand}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.goals,r=this.state,l=r.expand,i=r.goalModalOpen,s=r.openModal,c=n.filter(function(e){return e.id===s})[0];return o.a.createElement("div",null,o.a.createElement("div",{className:a.titleContainer},o.a.createElement(B.a,{className:a.listTitleText,component:"h3",onClick:this.handleCollapseButton},"Completed Goals"),o.a.createElement(L.a,{disableRipple:!0,size:"small",className:a.collapseButton,onClick:this.handleCollapseButton},l?o.a.createElement(J.a,null):o.a.createElement($.a,null))),o.a.createElement(z.a,{in:l},o.a.createElement(F.a,{className:a.list},n.map(function(t,n){var r=t.title,l=t.id;return o.a.createElement(P.a,{button:!0,key:n,className:a.listItem,onClick:function(){return e.handleGoalClick(l)}},o.a.createElement(q.a,{className:a.listItemIcon},o.a.createElement(K.a,null)),o.a.createElement(V.a,{primary:r,className:a.listItemText}))}))),c&&o.a.createElement(Ue,{open:i,goal:c,handleNotDone:this.handleGoalNotDone,handleDone:this.handleGoalDone,handleClose:this.handleGoalModalClose,handleGoalDelete:this.props.handleGoalDelete}))}}]),t}(o.a.Component),Le=Object(T.a)(Z)(He),ze=function(e){return{paper:{width:"272px",backgroundColor:e.palette.secondary.light,gridArea:"sidebar"},allListContainer:{marginTop:"64px"}}},Fe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.workouts,n=e.goals,r=e.handleWorkoutModalOpen,l=e.handleWorkoutAddModalToggle,i=e.handleGoalUpdate,s=e.handleGoalAdd,c=e.handleGoalDelete,d=n.filter(function(e){return e.complete}),u=n.filter(function(e){return!e.complete});return o.a.createElement(_.a,{classes:{paper:t.paper},variant:"permanent"},o.a.createElement("div",{className:t.allListContainer},o.a.createElement(X,{workouts:a,handleWorkoutModalOpen:r,handleWorkoutAddModalToggle:l}),o.a.createElement(H.a,null),o.a.createElement(_e,{goals:u,handleGoalUpdate:i,handleGoalAdd:s,handleGoalDelete:c}),o.a.createElement(H.a,null),0===d.length?void 0:o.a.createElement(Le,{goals:d,handleGoalUpdate:i,handleGoalDelete:c}),0===d.length?void 0:o.a.createElement(H.a,null)))}}]),t}(o.a.Component),Pe=Object(T.a)(ze)(Fe),qe=a(61),Ve=a(156),Je=function(e){return{container:{width:"100%"},chartContainer:{},chart:{width:"100%",height:"300px"},noChart:{width:"100%",height:"300px"}}},$e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={chart:null},a.chart=o.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.weights,a=e.theme,n={pointBorderColor:a.palette.primary.main,pointBackgroundColor:a.palette.primary.main,borderColor:Object(G.lighten)(a.palette.primary.main,.1),borderWidth:.5,backgroundColor:"transparent"};t.reverse(),t.length>1&&this.setState({chart:new qe.Chart(this.chart.current,{type:"line",data:{labels:t.map(function(e){return m()(e.datetime).format("hh:mm DD/MM/YY")}),datasets:[{label:"weight",data:t.map(function(e){return e.weight}),pointBorderColor:n.pointBorderColor,pointBackgroundColor:n.pointBackgroundColor,borderColor:n.borderColor,backgroundColor:n.backgroundColor,boderWidth:n.borderWidth}]},options:{layout:{padding:{right:4}},devicePixelRatio:2,legend:{onClick:function(e){return e.stopPropagation()},labels:{fontColor:Object(G.darken)(a.palette.primary.main,.1)}},scales:{xAxes:[{gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{gridLines:{display:!1},ticks:{fontColor:Object(G.darken)(a.palette.primary.main,.3)}}]}}})})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.chart;return o.a.createElement("div",{className:"".concat(t.container)},o.a.createElement("div",{className:"".concat(t.chartContainer)},o.a.createElement("canvas",{className:"".concat(a?t.chart:t.noChart),ref:this.chart})))}}]),t}(o.a.Component),Ke=Object(T.a)(Je)(Object(Ve.a)($e)),Ye=function(e){return{flName:{letterSpacing:"2px",color:e.palette.primary.main,fontWeight:"bold",fontSize:"1.2rem"},container:{backgroundColor:e.palette.secondary.main,padding:"16px",textAlign:"center",minWidth:"500px",maxWidth:"700px"},header:{display:"flex",justifyContent:"center",marginBottom:"16px"},whContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"32px"},nameValueContainer:{display:"flex",justifyContent:"space-between"},name:{color:Object(G.darken)(e.palette.primary.main,.2),fontSize:"1rem"},value:{color:Object(G.darken)(e.palette.primary.main,0),fontSize:"1rem"},buttonContainer:{marginTop:"14px",display:"grid",gridTemplateColumns:"1fr 1fr"},button:{color:Object(G.darken)(e.palette.primary.main,.3),padding:"0px","&:disabled":{color:e.palette.secondary.main},"&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}},buttonRight:{gridArea:"1 / 2 / 2 / 3"}}},Ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={weights:null,showWeights:!1},a.toggleShowWeights=a.toggleShowWeights.bind(Object(u.a)(a)),a.handleClose=a.handleClose.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.sendData,n=t.id,o=JSON.stringify({u_id:n});a(g.weightObtainAll,"",o,"POST",function(t){e.setState(function(){return t.reverse?{weights:t}:{weights:null}})})}},{key:"toggleShowWeights",value:function(){this.setState(function(e){return{showWeights:!e.showWeights}})}},{key:"handleClose",value:function(){this.setState({showWeights:!1}),this.props.handleClose()}},{key:"render",value:function(){var e,t=this.props,a=t.open,n=t.classes,r=t.fname,l=t.lname,i=t.weight,s=t.height,c=t.wUnit,d=t.hUnit,u=this.state,p=u.weights,h=u.showWeights;return e=!!(p&&p.length>1),o.a.createElement(pe,{open:a,onKeyPress:function(e){}},o.a.createElement(ae.a,{onClickAway:this.handleClose},o.a.createElement("div",{className:"".concat(n.container)},o.a.createElement("div",{className:"".concat(n.header)},o.a.createElement(B.a,{variant:"h2",className:"".concat(n.flName)},"".concat(r," ").concat(l))),o.a.createElement("div",{className:"".concat(n.whContainer)},o.a.createElement("div",{className:"".concat(n.nameValueContainer)},o.a.createElement(B.a,{component:"p",className:"".concat(n.name)},"Weight"),o.a.createElement(B.a,{component:"p",className:"".concat(n.value)},"".concat(i.toFixed(2)," ").concat(c))),o.a.createElement("div",{className:"".concat(n.nameValueContainer)},o.a.createElement(B.a,{component:"p",className:"".concat(n.name)},"Height"),o.a.createElement(B.a,{component:"p",className:"".concat(n.value)},"".concat(s.toFixed(2)," ").concat(d)))),e&&o.a.createElement(z.a,{in:h},o.a.createElement(Ke,{weights:p})),o.a.createElement("div",{className:"".concat(n.buttonContainer)},!h&&p?e&&o.a.createElement(de,{className:"".concat(n.button),onClick:this.toggleShowWeights,disableRipple:!0},"more"):e&&o.a.createElement(de,{className:"".concat(n.button),onClick:this.toggleShowWeights,disableRipple:!0},"less"),o.a.createElement(ce,{style:{textAlign:"left"},className:"".concat(n.button," ").concat(n.buttonRight),onClick:this.handleClose,disableRipple:!0},"close")))))}}]),t}(o.a.Component),Qe=Object(T.a)(Ye)(Ze),Xe=a(157),et=function(e){return{container:{backgroundColor:e.palette.secondary.main,padding:"16px",textAlign:"center",minWidth:"200px"},header:{display:"flex",justifyContent:"center",marginBottom:"16px"},title:{letterSpacing:"2px",color:e.palette.primary.main,fontWeight:"bold",fontSize:"1.2rem"},buttonContainer:{marginTop:"14px",display:"grid",gridTemplateColumns:"1fr 1fr"},button:{color:Object(G.darken)(e.palette.primary.main,.3),padding:"0px","&:disabled":{color:e.palette.secondary.main},"&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}},buttonRight:{gridArea:"1 / 2 / 2 / 3"}}},tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={change:null,value:0},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleClose=a.handleClose.bind(Object(u.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.initValue})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value,change:!0})}},{key:"handleClose",value:function(){this.setState({change:!1}),this.props.handleClose()}},{key:"handleUpdate",value:function(){this.props.handleUpdate(this.state.value),this.handleClose()}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,r=t.wUnit,l=this.state,i=l.change,s=l.value;return o.a.createElement(pe,{open:a,onKeyPress:function(t){"Enter"===t.key&&e.handleUpdate()}},o.a.createElement(ae.a,{onClickAway:this.handleClose},o.a.createElement("div",{className:"".concat(n.container)},o.a.createElement("div",{className:"".concat(n.header)},o.a.createElement(B.a,{variant:"h2",className:"".concat(n.title)},"Log Weight")),o.a.createElement("div",{className:"".concat(n.weight)},o.a.createElement(ge,{className:"".concat(n.valueEnter),value:s,name:"weight",type:"number",onChange:this.handleChange,InputProps:{endAdornment:o.a.createElement(Xe.a,{position:"end"},r)}})),o.a.createElement("div",{className:"".concat(n.buttonContainer)},i&&o.a.createElement(de,{className:"".concat(n.button),onClick:this.handleUpdate,disableRipple:!0},"add"),o.a.createElement(ce,{style:{textAlign:"left"},className:"".concat(n.button," ").concat(n.buttonRight),onClick:this.handleClose,disableRipple:!0},"close")))))}}]),t}(o.a.Component),at=Object(T.a)(et)(tt),nt=a(45),ot=function(e){switch(e){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"Inv"}},rt=function(e,t){var a=e.sets;return a.reduce(function(e,a){return e+a[t]},0)/a.length},lt=function(e){return{container:{cursor:"pointer"},name:{maxWidth:"170px",whiteSpace:"nowrap",overflow:"scroll"},titleBar:{color:e.palette.primary.main,display:"flex",justifyContent:"space-between",marginTop:"8px"},detailContainer:{color:Object(G.darken)(e.palette.primary.main,.2),display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateAreas:'"avg rep set"'},detailAvg:{justifySelf:"start",gridArea:"avg"},detailRep:{justifySelf:"center",gridArea:"rep"},detailSet:{justifySelf:"end",gridArea:"set"},divisor:{borderColor:Object(G.fade)(Object(G.darken)(e.palette.primary.light,.4),.4),marginTop:"12px"}}},it=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={avgAccuracy:0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.exercise,n=e.collapsed,r=e.handleExerciseClick,l=this.state.avgAccuracy,i=a.name,s=a.sets,c=a.units;return o.a.createElement("div",{className:t.container,onClick:r},o.a.createElement("div",{className:t.titleBar},o.a.createElement(B.a,{className:t.name},i),o.a.createElement(B.a,null,"Max ".concat(function(e,t){var a=e.sets;return Math.max.apply(Math,Object(nt.a)(a.map(function(e){return e[t]})))}(a,Te).toFixed(l)," ").concat(xe[c]))),o.a.createElement(z.a,{in:!n},o.a.createElement("div",{className:t.detailContainer},o.a.createElement(B.a,{className:t.detailAvg},"Avg ".concat(rt(a,Te).toFixed(l)," ").concat(xe[c])),o.a.createElement(B.a,{className:t.detailSet},"Sets ".concat(s.length)),o.a.createElement(B.a,{className:t.detailRep},"Reps ".concat(rt(a,Re).toFixed(l)))),o.a.createElement("hr",{className:t.divisor})))}}]),t}(o.a.Component),st=Object(T.a)(lt)(it),ct=a(159),dt=a(158),ut=function(e){return{container:{width:"100%"},chartContainer:{},chart:{width:"100%",height:"300px"},noChart:{width:"100%",height:"300px"},numbersContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",gridGap:"8px 64px",marginTop:"32px",marginBottom:"16px"},nameValueContainer:{display:"flex",justifyContent:"space-between"},name:{color:Object(G.darken)(e.palette.primary.main,.2),fontSize:"1rem"},value:{color:Object(G.darken)(e.palette.primary.main,0),fontSize:"1rem"}}},pt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={chart:null},a.chart=o.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.stats,a=e.theme,n=t.maxValues,o={pointBorderColor:a.palette.primary.main,pointBackgroundColor:a.palette.primary.main,borderColor:Object(G.lighten)(a.palette.primary.main,.1),borderWidth:.5,backgroundColor:"transparent"};n.reverse(),n.length>1&&this.setState({chart:new qe.Chart(this.chart.current,{type:"line",data:{labels:n.map(function(e){return m()(e.date).format("L")}),datasets:[{label:"intensity",data:n.map(function(e){return e.intensity}),pointBorderColor:o.pointBorderColor,pointBackgroundColor:o.pointBackgroundColor,borderColor:o.borderColor,backgroundColor:o.backgroundColor,boderWidth:o.borderWidth},{label:"reps",data:n.map(function(e){return e.reps}),hidden:!0,pointBorderColor:o.pointBorderColor,pointBackgroundColor:o.pointBackgroundColor,borderColor:o.borderColor,backgroundColor:o.backgroundColor,boderWidth:o.borderWidth},{label:"rest",data:n.map(function(e){return e.rest}),hidden:!0,pointBorderColor:o.pointBorderColor,pointBackgroundColor:o.pointBackgroundColor,borderColor:o.borderColor,backgroundColor:o.backgroundColor,boderWidth:o.borderWidth}]},options:{layout:{padding:{right:4}},devicePixelRatio:2,legend:{labels:{fontColor:Object(G.darken)(a.palette.primary.main,.1)}},scales:{xAxes:[{gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{gridLines:{display:!1},ticks:{fontColor:Object(G.darken)(a.palette.primary.main,.3)}}]}}})})}},{key:"render",value:function(){var e=this.props,t=e.stats,a=e.units,n=e.classes,r=e.chart;return o.a.createElement("div",{className:"".concat(n.container)},o.a.createElement("div",{className:"".concat(n.chartContainer)},o.a.createElement("canvas",{className:"".concat(r?n.chart:n.noChart),ref:this.chart})),o.a.createElement("div",{className:"".concat(n.numbersContainer)},o.a.createElement("div",{className:"".concat(n.nameValueContainer)},o.a.createElement(B.a,{component:"p",className:"".concat(n.name)},"All Time Max"),o.a.createElement(B.a,{component:"p",className:"".concat(n.value)},"".concat(t.allTimeMax.toFixed(2)," ").concat(a))),o.a.createElement("div",{className:"".concat(n.nameValueContainer)},o.a.createElement(B.a,{component:"p",className:"".concat(n.name)},"Average Max"),o.a.createElement(B.a,{component:"p",className:"".concat(n.value)},"".concat(t.averageMax.toFixed(2)," ").concat(a))),o.a.createElement("div",{className:"".concat(n.nameValueContainer)},o.a.createElement(B.a,{component:"p",className:"".concat(n.name)},"All Time Average"),o.a.createElement(B.a,{component:"p",className:"".concat(n.value)},"".concat(t.allTimeAverage.toFixed(2)," ").concat(a))),o.a.createElement("div",{className:"".concat(n.nameValueContainer)},o.a.createElement(B.a,{component:"p",className:"".concat(n.name)},"Count"),o.a.createElement(B.a,{component:"p",className:"".concat(n.value)},t.maxValues.length))))}}]),t}(o.a.Component),ht=Object(T.a)(ut)(Object(Ve.a)(pt)),mt=function(e){return{container:{backgroundColor:e.palette.secondary.main,padding:"16px",textAlign:"center",minWidth:"500px",maxWidth:"700px"},header:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},setsCount:{color:Object(G.darken)(e.palette.primary.main,.2),fontSize:"1.2rem",marginTop:"4px"},setContainer:{display:"flex",justifyContent:"space-between",marginTop:"8px"},setsContainer:{},rest:{justifySelf:"end"},title:{width:"300px",padding:"0px"},detail:{width:"80px",color:e.palette.primary.main},buttonContainer:{marginTop:"14px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},buttonContainerTwo:{marginTop:"14px",display:"grid",gridTemplateColumns:"1fr 1fr"},addRemoveButton:{marginTop:"4px",height:"24px",width:"24px"},note:{margin:"12px 0px 8px 0px"},setContainerOuter:{display:"grid",gridTemplateColumns:"30px auto"},index:{textAlign:"start",marginTop:"14px",color:Object(G.darken)(e.palette.primary.main,.3)},button:{color:Object(G.darken)(e.palette.primary.main,.3),padding:"0px","&:disabled":{color:e.palette.secondary.main},"&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}},error:{textAlign:"center",textTransform:"uppercase",fontSize:"0.8em",letterSpacing:"1px"}}},gt=Object(T.a)(mt)(function(e){function t(t){var a=t.target.value,n=t.target.name,o=e.onSetContentUpdate,r=e.onNewSetContentUpdate;(o||r)(e.set.id,n,a=isNaN(parseFloat(a))?0:parseFloat(a))}var a=e.classes,n=e.units,r=e.set,l=e.collapsed,i=e.index;return o.a.createElement("div",{className:"".concat(a.setContainerOuter)},o.a.createElement(B.a,{className:"".concat(a.index)},i,"."),o.a.createElement("div",{className:"".concat(a.setContainer)},o.a.createElement(ge,{className:"".concat(a.detail),value:r[Te],name:"intensity",type:"number",onChange:t,InputProps:{endAdornment:o.a.createElement(Xe.a,{position:"end"},n)}}),o.a.createElement(ge,{className:"".concat(a.detail),value:r[Re],name:"reps",type:"number",onChange:t,InputProps:{endAdornment:o.a.createElement(Xe.a,{position:"end"},"reps")}}),o.a.createElement(ge,{className:"".concat(a.rest," ").concat(a.detail),value:r[We],name:"rest",type:"number",onChange:t,InputProps:{endAdornment:o.a.createElement(Xe.a,{position:"end"},"s")}}),l&&o.a.createElement(L.a,{disableRipple:!0,size:"small",className:"".concat(a.button," ").concat(a.addRemoveButton),onClick:function(){e.onAddRemoveClick(e.set.id)}},e.onSetContentUpdate?o.a.createElement(dt.a,null):o.a.createElement(Y.a,null))))}),ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={error:"",sets:M()(a.props.exercise[Me.sets]),note:a.props.exercise[Me.note],name:a.props.exercise[Me.name],newSet:new ie(0,0,0),collapsed:!1,change:!1,showStats:!1,stats:null},a.handleSetChange=a.handleSetChange.bind(Object(u.a)(a)),a.handleNewSetChange=a.handleNewSetChange.bind(Object(u.a)(a)),a.restoreAndClose=a.restoreAndClose.bind(Object(u.a)(a)),a.updateAndClose=a.updateAndClose.bind(Object(u.a)(a)),a.handleCollapseButton=a.handleCollapseButton.bind(Object(u.a)(a)),a.handleNoteChange=a.handleNoteChange.bind(Object(u.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(u.a)(a)),a.handleAddRemove=a.handleAddRemove.bind(Object(u.a)(a)),a.showStats=a.showStats.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.sendData,n=t.exercise,o=JSON.stringify({e_id:n.id});a(k.stats,"",o,"POST",function(t){e.setState({stats:t})})}},{key:"handleSetChange",value:function(e,t,a){this.setState(function(n){var o=n.sets;return o.forEach(function(n){n.id===e&&(n[t]=a)}),{sets:o,change:!0}})}},{key:"handleNewSetChange",value:function(e,t,a){this.setState(function(e){var n=e.newSet;return n[t]=a,{newSet:n}})}},{key:"restoreAndClose",value:function(){var e=this.props,t=e.exercise,a=e.handleClose,n=t.sets,o=t.note,r=t.name;this.setState({sets:M()(n),note:o,name:r,collapsed:!1,error:"",change:!1,showStats:!1,stats:null}),a()}},{key:"updateAndClose",value:function(){var e=this.props,t=e.handleClose,a=e.handleExerciseUpdate,n=e.exercise,o=this.state,r=o.sets,l=o.note,i=o.name;this.setState({collapsed:!1,error:"",change:!1,showStats:!1,stats:null}),a(n.id,r,l,i,n.seq,n[Me.units]),t()}},{key:"handleCollapseButton",value:function(){this.setState(function(e){return{collapsed:!e.collapsed,error:""}})}},{key:"handleNoteChange",value:function(e){this.setState({note:e.target.value,error:"",change:!0})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value,error:"",change:!0})}},{key:"handleAddRemove",value:function(e){this.setState(function(t){var a=t.sets,n=t.newSet,o="",r=a.filter(function(t){return t.id!==e});if(r.length===a.length)if(0===n[Re])o="reps can't be 0";else{if(0!==n[We])return a.push(n),{sets:a,newSet:new ie(0,0,0),change:!0};o="rest can't be 0"}else{if(a.length>1)return{sets:r,change:!0};1===a.length&&(o="atleast one set is required")}return{error:o}})}},{key:"showStats",value:function(){this.setState(function(e){return{showStats:!e.showStats}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,r=t.exercise,l=this.state,i=l.collapsed,s=l.note,c=l.newSet,d=l.error,u=l.sets,p=l.name,h=l.change,m=l.showStats,g=l.stats,f=u.length;return o.a.createElement(pe,{open:a,onKeyPress:function(e){}},o.a.createElement(ae.a,{onClickAway:this.restoreAndClose},o.a.createElement("div",{className:"".concat(n.container)},o.a.createElement("div",{className:"".concat(n.header)},o.a.createElement(ke,{className:"".concat(n.title),value:p,onChange:this.handleNameChange,disabled:!i}),o.a.createElement(B.a,{component:"h3",className:"".concat(n.setsCount)},f," sets")),o.a.createElement(z.a,{in:!m},o.a.createElement(z.a,{in:""!==d},o.a.createElement(B.a,{component:"p",className:"".concat(n.error),color:"error"},d)),o.a.createElement("div",{className:"".concat(n.setsContainer)},u.map(function(t,a){return o.a.createElement(gt,{key:a,set:t,index:a+1,units:r[Me.units],onSetContentUpdate:e.handleSetChange,onAddRemoveClick:e.handleAddRemove,collapsed:i})})),o.a.createElement(z.a,{in:i},o.a.createElement("div",null,o.a.createElement(gt,{set:c,index:f+1,units:r[Me.units],onNewSetContentUpdate:this.handleNewSetChange,onAddRemoveClick:this.handleAddRemove,collapsed:i}))),o.a.createElement(z.a,{in:i||""!==s},o.a.createElement(fe,{placeholder:"Add a note",value:s,rowsMax:"4",multiline:!0,onChange:this.handleNoteChange,fullWidth:!0,disabled:!i,className:"".concat(n.note)})),o.a.createElement("div",{className:"".concat(n.buttonContainer)},!i&&g?o.a.createElement(de,{className:"".concat(n.button),onClick:this.showStats,disableRipple:!0},"stats"):o.a.createElement(de,{className:"".concat(n.button),onClick:this.updateAndClose,disabled:!h,disableRipple:!0},"update"),o.a.createElement(L.a,{disableRipple:!0,size:"small",className:"".concat(n.button),onClick:this.handleCollapseButton},i?o.a.createElement(J.a,null):o.a.createElement($.a,null)),o.a.createElement(ce,{style:{textAlign:"left"},className:"".concat(n.button),onClick:this.restoreAndClose,disableRipple:!0},"close"))),g&&o.a.createElement(z.a,{in:m&&!i},o.a.createElement(ht,{stats:g,units:r[Me.units]}),o.a.createElement("div",{className:"".concat(n.buttonContainerTwo)},o.a.createElement(de,{className:"".concat(n.button),onClick:this.showStats,disableRipple:!0},"sets"),o.a.createElement(ce,{style:{textAlign:"left"},className:"".concat(n.button),onClick:this.restoreAndClose,disableRipple:!0},"close"))))))}}]),t}(o.a.Component),bt=Object(T.a)(mt)(ft),kt=function(e){return{card:{minWidth:"320px",borderRadius:"0px",breakInside:"avoid",padding:"24px 32px",marginBottom:"8px",background:e.palette.secondary.dark},cardHeader:{display:"flex",alignItems:"center",padding:"8px 0px",justifyContent:"space-between"},cardName:{cursor:"pointer",letterSpacing:"2px",color:e.palette.primary.main,fontWeight:"bold",fontSize:"1.2rem",padding:"0px"},cardDay:{color:Object(G.darken)(e.palette.primary.main,.2),fontSize:"1.2rem",padding:"0px"},cardExercises:{color:"white"},cardFooter:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateAreas:'"done resize update"',marginTop:"16px"},cardFooterButtons:{color:Object(G.darken)(e.palette.primary.main,.3),padding:"0px",minWidth:"0px","&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}},footerDone:{justifySelf:"start",gridArea:"done"},footerResize:{justifySelf:"center",gridArea:"resize"},footerUpdate:{justifySelf:"end",gridArea:"update"}}},Ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={collapsed:!0,openModal:0,exerciseModalOpen:!1},a.handleCollapseButton=a.handleCollapseButton.bind(Object(u.a)(a)),a.handleExerciseClick=a.handleExerciseClick.bind(Object(u.a)(a)),a.handleExerciseModalClose=a.handleExerciseModalClose.bind(Object(u.a)(a)),a.handleExerciseUpdate=a.handleExerciseUpdate.bind(Object(u.a)(a)),a.handleDoneButton=a.handleDoneButton.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleExerciseClick",value:function(e){this.setState(function(t){return{exerciseModalOpen:!t.exerciseModalOpen,openModal:e}})}},{key:"handleExerciseModalClose",value:function(){this.setState(function(e){return{exerciseModalOpen:!e.exerciseModalOpen}})}},{key:"handleCollapseButton",value:function(){this.setState(function(e){return{collapsed:!e.collapsed}})}},{key:"handleExerciseUpdate",value:function(e,t,a,n,o,r){var l=this.props,i=l.handleExerciseUpdate;i(l.workout.id,e,t,a,n,o,r)}},{key:"handleDoneButton",value:function(){var e=this.props;(0,e.handleDoneClick)(e.workout.id)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.workout,r=t.handleWorkoutModalOpen,l=t.sendData,i=this.state,s=i.collapsed,c=i.openModal,d=i.exerciseModalOpen;return o.a.createElement(ct.a,{className:a.card,style:{height:n}},o.a.createElement("div",{className:a.cardHeader},o.a.createElement(B.a,{className:a.cardName,onClick:r},n.name),o.a.createElement(B.a,{className:a.cardDay},ot(n[De.days][0]))),o.a.createElement("div",{className:a.cardExercises},n.exercises.map(function(t,a){return o.a.createElement(st,{key:a,exercise:t,collapsed:s,handleExerciseClick:function(){e.handleExerciseClick(a)}})})),o.a.createElement("div",{className:a.cardFooter},o.a.createElement(se.a,{size:"small",disableRipple:!0,className:"".concat(a.cardFooterButtons," ").concat(a.footerDone),onClick:this.handleDoneButton},"done"),o.a.createElement(L.a,{disableRipple:!0,size:"small",className:"".concat(a.cardFooterButtons," ").concat(a.footerResize),onClick:this.handleCollapseButton},s?o.a.createElement($.a,null):o.a.createElement(J.a,null)),o.a.createElement(se.a,{size:"small",disableRipple:!0,className:"".concat(a.cardFooterButtons," ").concat(a.footerUpdate),onClick:r},"update")),Boolean(n[De.exercises][c])&&o.a.createElement(bt,{sendData:l,open:d,exercise:n[De.exercises][c],key:n[De.exercises][c].id,handleClose:this.handleExerciseModalClose,handleExerciseUpdate:this.handleExerciseUpdate}))}}]),t}(o.a.Component),vt=Object(T.a)(kt)(Ct),yt=a(169),xt=function(e){return{mainContainer:{background:e.palette.secondary.light,height:"100%",display:"grid",gridTemplate:"4rem auto/ 272px auto auto",gridTemplateAreas:'\n        "navbar navbar navbar"\n        "sidebar cards cards"\n      '},cardsContainer:{padding:"8px",columnCount:"auto",columnWidth:"300px",columnGap:"8px",marginRight:"15%",gridArea:"cards",background:e.palette.secondary.light},snackText:{minWidth:0,letterSpacing:"1px",color:e.palette.primary.light}}},Et=function(e){return{container:{backgroundColor:e.palette.secondary.main,padding:"16px",textAlign:"center",minWidth:"600px",maxWidth:"700px"},header:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},lastCompleted:{color:Object(G.darken)(e.palette.primary.main,.2),marginTop:"4px",fontSize:"1rem",letterSpacing:"2px",cursor:"pointer"},exercise:{display:"flex",padding:"4px 0px"},exerciseName:{textAlign:"start",color:e.palette.primary.main},col0:{gridColumn:"1 / span 1"},col1:{gridColumn:"2 / span 1"},workoutContainer:{marginTop:"8px",display:"grid",gridTemplateColumns:"repeat(2,1fr)",gridColumnGap:"16px"},index:{marginRight:"8px",color:Object(G.darken)(e.palette.primary.main,.3)},title:{padding:"0px"},exerciseAddTitle:{width:"300px",padding:"0px"},setsCount:{color:Object(G.darken)(e.palette.primary.main,.2),fontSize:"1.2rem",marginTop:"4px"},checkboxLabel:{color:Object(G.darken)(e.palette.primary.main,.3)},daysContainer:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},checkboxContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between"},days:{color:Object(G.darken)(e.palette.primary.main,.2),textAlign:"start",letterSpacing:"1px",fontSize:"0.9rem",height:"21px"},buttonContainer:{marginTop:"14px",display:"flex",justifyContent:"space-between"},buttonContainerThree:{marginTop:"14px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},addRemoveButton:{marginLeft:"auto",height:"24px",width:"24px"},note:{margin:"12px 0px 8px 0px"},button:{color:Object(G.darken)(e.palette.primary.main,.3),padding:"0px","&:disabled":{color:e.palette.secondary.main},"&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}},divisor:{borderColor:Object(G.fade)(Object(G.darken)(e.palette.primary.light,.4),.4),marginTop:"12px"},areYouSure:{color:Object(G.darken)(e.palette.primary.main,.1),fontSize:"1rem",minWidth:"10%",maxWidth:"80%",margin:"auto",marginTop:"8px"},topDivisor:{marginTop:"8px",marginBottom:"16px"},error:{textAlign:"center",textTransform:"uppercase",fontSize:"0.8em",letterSpacing:"1px"},subTitle:{color:Object(G.darken)(e.palette.primary.main,.3),fontSize:"1.1rem",letterSpacing:"1px",marginBottom:"8px"}}},Ot=a(152),jt=a(160),St=a(167),Nt=Object(T.a)(function(e){return{root:{"& .MuiSvgIcon-root":{color:Object(G.darken)(e.palette.primary.main,.3)}}}})(St.a),wt=Object(T.a)(Et)(function(e){var t=e.classes,a=e.daysString,n=e.open,r=e.days,l=e.handleDayChange;return o.a.createElement("div",{className:"".concat(t.daysContainer)},o.a.createElement(B.a,{component:"p",className:"".concat(t.days)},a),o.a.createElement(z.a,{in:n},o.a.createElement(Ot.a,{className:"".concat(t.checkboxContainer)},Object(nt.a)(Array(7).keys()).map(function(e){var a=!1;return r.find(function(t){return t===e})+1&&(a=!0),o.a.createElement(jt.a,{className:t.checkboxLabel,label:ot(e),key:e,control:o.a.createElement(Nt,{onChange:l,checked:a,value:e,color:"primary",inputProps:{"aria-label":"primary checkbox"}})})}))))}),At=Object(T.a)(Et)(function(e){var t=e.name,a=e.classes,n=e.open,r=e.handleDeleteChoice;return o.a.createElement(z.a,{in:n},o.a.createElement(B.a,{component:"h2",className:"".concat(a.subTitle)},"Delete Workout"),o.a.createElement("hr",{className:a.divisor}),o.a.createElement(B.a,{component:"p",className:"".concat(a.areYouSure)},"Are you sure you want to delete the workout '".concat(t,"', this action can't be undone.")),o.a.createElement("hr",{className:a.divisor}),o.a.createElement("div",{className:"".concat(a.buttonContainer)},o.a.createElement(de,{className:"".concat(a.button),onClick:function(){r(!1)},disableRipple:!0},"cancel"),o.a.createElement(ce,{className:"".concat(a.button),onClick:function(){r(!0)},disableRipple:!0},"delete")))}),Dt=Object(T.a)(Et)(function(e){var t=e.classes,a=e.index,n=e.id,r=e.name,l=e.onRemoveExerciseClick,i=e.collapsed;return o.a.createElement("div",{className:"".concat(t.exercise," ").concat(t["col".concat((a-1)%2)]),component:"li"},o.a.createElement(B.a,{component:"p",className:"".concat(t.index)},a,"."),o.a.createElement(B.a,{component:"p",className:"".concat(t.exerciseName)},r),i&&o.a.createElement(L.a,{disableRipple:!0,size:"small",className:"".concat(t.button," ").concat(t.addRemoveButton),onClick:function(){l(n)}},o.a.createElement(dt.a,null)))}),Mt=Object(T.a)(Et)(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={name:"",note:"",sets:[],newSet:new ie(0,0,0),error:"",units:xe.kg},a.handleSetChange=a.handleSetChange.bind(Object(u.a)(a)),a.handleNewSetChange=a.handleNewSetChange.bind(Object(u.a)(a)),a.handleNoteChange=a.handleNoteChange.bind(Object(u.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(u.a)(a)),a.handleAddRemove=a.handleAddRemove.bind(Object(u.a)(a)),a.handleAdd=a.handleAdd.bind(Object(u.a)(a)),a.handleCancel=a.handleCancel.bind(Object(u.a)(a)),a.stateReset=a.stateReset.bind(Object(u.a)(a)),a.exerciseNameRef=o.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleSetChange",value:function(e,t,a){this.setState(function(n){var o=n.sets;return o.forEach(function(n){n.id===e&&(n[t]=a)}),{sets:o,change:!0}})}},{key:"handleNewSetChange",value:function(e,t,a){this.setState(function(e){var n=e.newSet;return n[t]=a,{newSet:n}})}},{key:"handleNoteChange",value:function(e){this.setState({note:e.target.value,error:""})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value,error:""})}},{key:"handleAddRemove",value:function(e){this.setState(function(t){var a=t.sets,n=t.newSet,o="",r=a.filter(function(t){return t.id!==e});if(r.length===a.length)if(0===n[Re])o="reps can't be 0";else{if(0!==n[We])return a.push(n),{sets:a,newSet:new ie(0,0,0),error:""};o="rest can't be 0"}else if(a.length>=1)return{sets:r,error:"F"};return{error:o}})}},{key:"stateReset",value:function(){this.setState({name:"",note:"",sets:[],newSet:new ie(0,0,0),error:""})}},{key:"handleAdd",value:function(){var e=this.state,t=e.name,a=e.sets,n=e.note,o=e.units,r="";if(""===t)r="name can't be blank";else{if(0!==a.length){var l=new le(t,a,o,n);return this.props.handleAddExercise(l),void this.stateReset()}r="atleast one set is required"}this.setState({error:r})}},{key:"handleCancel",value:function(){this.stateReset(),this.props.handleCancelAddExercise()}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,r=this.state,l=r.error,i=r.name,s=r.sets,c=r.note,d=r.newSet,u=r.units,p=s.length;return a&&""===i.trim()&&setTimeout(function(){return e.exerciseNameRef.current.getElementsByTagName("input")[0].focus()},300),o.a.createElement(z.a,{in:a},o.a.createElement(B.a,{component:"h2",className:"".concat(n.subTitle)},"Add Exercise"),o.a.createElement(z.a,{in:""!==l},o.a.createElement(B.a,{component:"p",className:"".concat(n.error),color:"error"},l)),o.a.createElement("hr",{className:n.divisor}),o.a.createElement("div",{className:"".concat(n.header)},o.a.createElement(ke,{className:"".concat(n.exerciseAddTitle),value:i,onChange:this.handleNameChange,placeholder:"Exercise name",ref:this.exerciseNameRef}),o.a.createElement(B.a,{component:"h3",className:"".concat(n.setsCount)},p," sets")),o.a.createElement("div",{className:"".concat(n.setsContainer)},s.map(function(t,a){return o.a.createElement(gt,{key:a,set:t,index:a+1,units:u,onSetContentUpdate:e.handleSetChange,onAddRemoveClick:e.handleAddRemove,collapsed:!0})})),o.a.createElement("div",null,o.a.createElement(gt,{set:d,index:p+1,units:u,onNewSetContentUpdate:this.handleNewSetChange,onAddRemoveClick:this.handleAddRemove,collapsed:!0})),o.a.createElement(fe,{placeholder:"Add a note",value:c,rowsMax:"4",multiline:!0,onChange:this.handleNoteChange,fullWidth:!0,className:"".concat(n.note)}),o.a.createElement("hr",{className:n.divisor}),o.a.createElement("div",{className:"".concat(n.buttonContainer)},o.a.createElement(de,{className:"".concat(n.button),onClick:this.handleCancel,disableRipple:!0},"cancel"),o.a.createElement(ce,{className:"".concat(n.button),onClick:this.handleAdd,disableRipple:!0},"add")))}}]),t}(o.a.Component)),Tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={error:"",name:a.props.workout[De.name],note:a.props.workout[De.note],exercises:M()(a.props.workout[De.exercises]),exercisesRemoved:[],days:M()(a.props.workout[De.days]),change:!1,confirmDelete:!1,addExercise:!1,collapsed:!1,last:[]},a.handleCollapseButton=a.handleCollapseButton.bind(Object(u.a)(a)),a.handleRemoveExercise=a.handleRemoveExercise.bind(Object(u.a)(a)),a.handleNoteChange=a.handleNoteChange.bind(Object(u.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(u.a)(a)),a.handleDayChange=a.handleDayChange.bind(Object(u.a)(a)),a.handleDeleteWorkout=a.handleDeleteWorkout.bind(Object(u.a)(a)),a.handleDeleteChoice=a.handleDeleteChoice.bind(Object(u.a)(a)),a.handleAddExerciseToggle=a.handleAddExerciseToggle.bind(Object(u.a)(a)),a.handleAddExercise=a.handleAddExercise.bind(Object(u.a)(a)),a.handleCancelAddExercise=a.handleCancelAddExercise.bind(Object(u.a)(a)),a.updateAndClose=a.updateAndClose.bind(Object(u.a)(a)),a.handleDoneDateClick=a.handleDoneDateClick.bind(Object(u.a)(a)),a.restoreAndClose=a.restoreAndClose.bind(Object(u.a)(a)),a.workoutNameRef=o.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.sendData,n=t.workout,o=JSON.stringify({w_id:n.id});a(b.last,"",o,"POST",function(t){e.setState({last:t})})}},{key:"handleCollapseButton",value:function(){this.setState(function(e){return{collapsed:!e.collapsed,error:""}})}},{key:"handleRemoveExercise",value:function(e){this.setState(function(t){var a=t.exercises,n=t.exercisesRemoved,o=a.filter(function(t){return t.id!==e});return a.length>1?(n.push(a.filter(function(t){return t.id===e})[0].id),a.forEach(function(e,t){return e.seq=t}),{exercises:o,change:!0,exercisesRemoved:n}):{error:"atleast one exercise is required"}})}},{key:"handleNoteChange",value:function(e){this.setState({note:e.target.value,error:"",change:!0})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value,error:"",change:!0})}},{key:"updateAndClose",value:function(){var e=this.props,t=e.handleClose,a=e.wid,n=e.handleWorkoutUpdate,o=e.workout,r=this.state,l=r.name,i=r.note,s=r.exercises,c=r.days,d=r.exercisesRemoved;if(""===l)return this.setState({collapsed:!0,error:"name can't be blank"}),void this.workoutNameRef.current.getElementsByTagName("input")[0].focus();n(a,l,i,s,c,d,o.seq,o.id),this.setState({collapsed:!1,error:"",change:!1,confirmDelete:!1,addExercise:!1}),t()}},{key:"restoreAndClose",value:function(){var e=this.props,t=e.handleClose,a=e.workout,n=a.name,o=a.note,r=a.exercises,l=a.days;this.setState({name:n,note:o,exercises:M()(r),days:M()(l),collapsed:!1,error:"",change:!1,confirmDelete:!1,addExercise:!1}),t()}},{key:"handleDayChange",value:function(e){var t=parseInt(e.target.value);this.setState(function(e){var a=e.days,n=a.filter(function(e){return e!==t});return n.length===a.length?(a.push(t),a.sort(),{days:a,error:"",change:!0}):n.length<a.length&&n.length>0?{days:n,error:"",change:!0}:0===n.length?{error:"atleast one day is required"}:void 0})}},{key:"handleDeleteWorkout",value:function(){this.setState({confirmDelete:!0,error:""})}},{key:"handleDeleteChoice",value:function(e){this.setState({confirmDelete:!1}),e&&(this.props.handleDeleteWorkoutConfirm(this.props.wid,this.state.name),this.props.handleClose())}},{key:"handleAddExerciseToggle",value:function(){this.setState({addExercise:!0,confirmDelete:!1,error:""})}},{key:"handleAddExercise",value:function(e){this.setState(function(t){var a=t.exercises,n=a.length;return e.seq=n,a.push(e),{exercises:a,addExercise:!1,change:!0}})}},{key:"handleCancelAddExercise",value:function(){this.setState({addExercise:!1})}},{key:"handleDoneDateClick",value:function(){console.log(this.state.last)}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,r=t.workout,l=this.state,i=l.error,s=l.collapsed,c=l.note,d=l.days,u=l.name,p=l.exercises,h=l.change,m=l.confirmDelete,g=l.addExercise,f=d.map(function(e,t){return ot(e)}).join(" ");return o.a.createElement(pe,{open:a,onKeyPress:function(e){}},o.a.createElement(ae.a,{onClickAway:this.restoreAndClose},o.a.createElement("div",{className:"".concat(n.container)},o.a.createElement("div",{className:"".concat(n.header)},o.a.createElement(be,{ref:this.workoutNameRef,className:"".concat(n.title),value:u,disabled:!s&&!(g||m),onChange:this.handleNameChange}),r[De.last]&&o.a.createElement(B.a,{component:"h3",className:"".concat(n.lastCompleted),onClick:this.handleDoneDateClick},r[De.last].toDateString())),o.a.createElement(z.a,{in:!m&&!g},o.a.createElement(z.a,{in:""!==i},o.a.createElement(B.a,{component:"p",className:"".concat(n.error),color:"error"},i)),o.a.createElement(z.a,{in:s},o.a.createElement(B.a,{component:"h2",className:"".concat(n.subTitle)},"Edit Workout"),o.a.createElement("hr",{className:"".concat(n.divisor," ").concat(n.topDivisor)})),o.a.createElement(wt,{daysString:f,open:s,days:d,handleDayChange:this.handleDayChange}),o.a.createElement("div",{className:"".concat(n.workoutContainer),component:"ul"},p.map(function(t,a){return o.a.createElement(Dt,{key:a,name:t[Me.name],id:t.id,index:a+1,collapsed:s,onRemoveExerciseClick:e.handleRemoveExercise})}))),o.a.createElement(z.a,{in:(s||""!==c)&&!m&&!g},o.a.createElement(fe,{placeholder:"Add a note",value:c,rowsMax:"4",multiline:!0,onChange:this.handleNoteChange,fullWidth:!0,disabled:!s,className:"".concat(n.note)})),o.a.createElement(z.a,{in:s&&!m&&!g},o.a.createElement("hr",{className:"".concat(n.divisor," ").concat(n.topDivisor)}),o.a.createElement("div",{className:"".concat(n.buttonContainer)},o.a.createElement(de,{className:"".concat(n.button),onClick:this.handleAddExerciseToggle,disableRipple:!0},"add an exercise"),o.a.createElement(ce,{className:"".concat(n.button),onClick:this.handleDeleteWorkout,disableRipple:!0},"delete workout"))),o.a.createElement(At,{name:u,handleDeleteChoice:this.handleDeleteChoice,open:m&&s&&!g}),o.a.createElement(Mt,{open:g,handleAddExercise:this.handleAddExercise,handleCancelAddExercise:this.handleCancelAddExercise}),o.a.createElement(z.a,{in:!m&&!g},o.a.createElement("div",{className:"".concat(n.buttonContainerThree)},s?o.a.createElement(de,{className:"".concat(n.button),onClick:this.updateAndClose,disabled:!h,disableRipple:!0},"update"):o.a.createElement(de,{className:"".concat(n.button),onClick:this.handleAddExerciseToggle,disableRipple:!0},"add an exercise"),o.a.createElement(L.a,{disableRipple:!0,size:"small",className:"".concat(n.button),onClick:this.handleCollapseButton},s?o.a.createElement(J.a,null):o.a.createElement($.a,null)),o.a.createElement(ce,{className:"".concat(n.button),onClick:this.restoreAndClose,disableRipple:!0},"close"))))))}}]),t}(o.a.Component),Rt=Object(T.a)(Et)(Tt),Wt=function(e){return{container:{backgroundColor:e.palette.secondary.main,padding:"16px",textAlign:"center",minWidth:"600px",maxWidth:"700px"},header:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},exerciseCount:{color:Object(G.darken)(e.palette.primary.main,.2),marginTop:"4px",fontSize:"1rem",letterSpacing:"2px"},workoutContainer:{marginTop:"8px",display:"grid",gridTemplateColumns:"repeat(2,1fr)",gridColumnGap:"16px"},title:{padding:"0px"},setsCount:{color:Object(G.darken)(e.palette.primary.main,.2),fontSize:"1.2rem",marginTop:"4px"},buttonContainer:{marginTop:"14px",display:"flex",justifyContent:"space-between"},buttonContainerThree:{marginTop:"14px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},message:{color:Object(G.darken)(e.palette.primary.main,.3),textAlign:"center",fontSize:"0.9rem"},note:{margin:"12px 0px 8px 0px"},button:{color:Object(G.darken)(e.palette.primary.main,.3),padding:"0px","&:disabled":{color:e.palette.secondary.main},"&:hover":{backgroundColor:"transparent",color:Object(G.darken)(e.palette.primary.main,.1)},"&:focus":{color:Object(G.darken)(e.palette.primary.main,.1)}},divisor:{borderColor:Object(G.fade)(Object(G.darken)(e.palette.primary.light,.4),.4)},topDivisor:{marginTop:"8px",marginBottom:"16px"},error:{textAlign:"center",textTransform:"uppercase",fontSize:"0.8em",letterSpacing:"1px"},subTitle:{color:Object(G.darken)(e.palette.primary.main,.3),fontSize:"1.1rem",letterSpacing:"1px",marginBottom:"8px"}}},Bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={error:"",workout:new re,next:!1,addExercise:!1},a.handleAddExerciseToggle=a.handleAddExerciseToggle.bind(Object(u.a)(a)),a.handleCancelAddWorkout=a.handleCancelAddWorkout.bind(Object(u.a)(a)),a.handleRemoveExercise=a.handleRemoveExercise.bind(Object(u.a)(a)),a.handleAddExercise=a.handleAddExercise.bind(Object(u.a)(a)),a.handleNoteChange=a.handleNoteChange.bind(Object(u.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(u.a)(a)),a.handleDayChange=a.handleDayChange.bind(Object(u.a)(a)),a.handleDone=a.handleDone.bind(Object(u.a)(a)),a.handleNext=a.handleNext.bind(Object(u.a)(a)),a.handleBack=a.handleBack.bind(Object(u.a)(a)),a.resetState=a.resetState.bind(Object(u.a)(a)),a.workoutNameRef=o.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"resetState",value:function(){this.setState({workout:new re,next:!1,addExercise:!1,error:""})}},{key:"handleNameChange",value:function(e){var t=e.target.value;this.setState(function(e){var a=e.workout;return a[De.name]=t,{workout:a,error:""}})}},{key:"handleNoteChange",value:function(e){var t=e.target.value;this.setState(function(e){var a=e.workout;return a[De.note]=t,{workout:a,error:""}})}},{key:"handleDayChange",value:function(e){var t=parseInt(e.target.value);this.setState(function(e){var a=e.workout,n=a.days,o=n.filter(function(e){return e!==t});return o.length===n.length?(n.push(t),n.sort(),a[De.days]=n,{workout:a,error:"",change:!0}):o.length<n.length?(a[De.days]=o,{workout:a,error:"",change:!0}):void 0})}},{key:"handleNext",value:function(){var e=this.state.workout;""===e[De.name]?this.setState({error:"name can't be blank"}):0===e[De.days].length?this.setState({error:"atleast one day is required"}):this.setState({next:!0,error:""})}},{key:"handleBack",value:function(){this.setState({next:!1,error:""})}},{key:"handleDone",value:function(){var e=this.state.workout;0===e[De.exercises].length?this.setState({error:"atleast one exercise is required"}):(this.props.handleWorkoutAdd(e),this.handleCancelAddWorkout())}},{key:"handleCancelAddWorkout",value:function(){this.resetState(),this.props.handleWorkoutAddModalToggle()}},{key:"handleAddExercise",value:function(e){this.setState(function(t){var a=t.workout,n=a[De.exercises].length;return e.seq=n,a[De.exercises].push(e),{workout:a,addExercise:!1}})}},{key:"handleRemoveExercise",value:function(e){this.setState(function(t){var a=t.workout,n=a[De.exercises].filter(function(t){return t.id!==e});return a[De.exercises]=n,{workout:a}})}},{key:"handleAddExerciseToggle",value:function(){this.setState(function(e){return{addExercise:!e.addExercise}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,r=this.state,l=r.error,i=r.workout,s=r.addExercise,c=r.next,d=i.name,u=i.exercises,p=i.note,h=i.days,m=h.map(function(e,t){return ot(e)}).join(" ");return m=""===m?" ":m,a&&""===d.trim()&&setTimeout(function(){return e.workoutNameRef.current.getElementsByTagName("input")[0].focus()},300),o.a.createElement(pe,{open:a,onKeyPress:function(e){}},o.a.createElement(ae.a,{onClickAway:this.handleCancelAddWorkout},o.a.createElement("div",{className:"".concat(n.container)},o.a.createElement(z.a,{in:!s},o.a.createElement(B.a,{component:"h2",className:"".concat(n.subTitle)},"Add Workout"),o.a.createElement(z.a,{in:""!==l},o.a.createElement(B.a,{component:"p",className:"".concat(n.error),color:"error"},l)),o.a.createElement("hr",{className:"".concat(n.divisor," ").concat(n.topDivisor)}),o.a.createElement("div",{className:"".concat(n.header)},o.a.createElement(be,{ref:this.workoutNameRef,className:"".concat(n.title),value:d,disabled:c,onChange:this.handleNameChange,placeholder:"Add workout name"}),o.a.createElement(B.a,{component:"h3",className:"".concat(n.exerciseCount)},i[De.exercises].length," exercises")),o.a.createElement(wt,{daysString:m,open:!c,days:h,handleDayChange:this.handleDayChange})),o.a.createElement(z.a,{in:!c},o.a.createElement(fe,{placeholder:"Add note",value:p,rowsMax:"4",multiline:!0,onChange:this.handleNoteChange,fullWidth:!0,disabled:c,className:"".concat(n.note)})),o.a.createElement(z.a,{in:c&&!s},0===i[De.exercises].length&&o.a.createElement(B.a,{component:"p",className:"".concat(n.message)},"Add some exercises to your workout."),o.a.createElement("div",{className:"".concat(n.workoutContainer),component:"ul"},u.map(function(t,a){return o.a.createElement(Dt,{key:a,name:t[Me.name],id:t.id,index:a+1,collapsed:!0,onRemoveExerciseClick:e.handleRemoveExercise})}))),o.a.createElement(Mt,{open:s,handleAddExercise:this.handleAddExercise,handleCancelAddExercise:this.handleAddExerciseToggle}),o.a.createElement(z.a,{in:c&&!s},o.a.createElement("hr",{className:"".concat(n.divisor)}),o.a.createElement("div",{className:"".concat(n.buttonContainerThree)},o.a.createElement(de,{className:"".concat(n.button),onClick:this.handleBack,disableRipple:!0},"back"),o.a.createElement(se.a,{className:"".concat(n.button),onClick:this.handleAddExerciseToggle,disableRipple:!0},"add exercise"),o.a.createElement(ce,{className:"".concat(n.button),onClick:this.handleDone,disableRipple:!0},"done"))),o.a.createElement(z.a,{in:!c&&!s},o.a.createElement("hr",{className:"".concat(n.divisor)}),o.a.createElement("div",{className:"".concat(n.buttonContainer)},o.a.createElement(de,{className:"".concat(n.button),onClick:this.handleCancelAddWorkout,disableRipple:!0},"cancel"),o.a.createElement(ce,{className:"".concat(n.button),onClick:this.handleNext,disableRipple:!0},"next"))))))}}]),t}(o.a.Component),Gt=Object(T.a)(Wt)(Bt),Ut=function(e){return function(e){for(var t in e){var a=e[t],n=a.deadline,o=a.complete,r=a.dateCompleted;e[t].deadline=new Date(n),e[t].complete=0!==o,e[t].dateCompleted=r?new Date(r):void 0}}(e.goals),function(e){for(var t in e.sort(function(e,t){return e.seq-t.seq}),e){e[t].exercises.sort(function(e,t){return e.seq-t.seq});var a=e[t].last;e[t].last=a?new Date(a):void 0}}(e.workouts),e},It=Object(T.a)(function(e){return{root:{"& .MuiSnackbarContent-root":{minWidth:"0px",backgroundColor:Object(G.lighten)(e.palette.secondary.main,.03),borderRadius:"0px"}}}})(yt.a),_t=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={workoutModalOpen:!1,workoutAddModalOpen:!1,profileModalOpen:!1,logWeightModalOpen:!1,openModal:0,data:new ne,timerId:0,alive:!0,showDoneMessage:!1,doneMessage:"",doneMessageDuration:3e3,wUnit:"kg",hUnit:"cm",status:{}},a.handleWorkoutModalOpen=a.handleWorkoutModalOpen.bind(Object(u.a)(a)),a.handleLogWeightModalUpdate=a.handleLogWeightModalUpdate.bind(Object(u.a)(a)),a.handleWorkoutAddModalToggle=a.handleWorkoutAddModalToggle.bind(Object(u.a)(a)),a.handleWorkoutModalClose=a.handleWorkoutModalClose.bind(Object(u.a)(a)),a.handleDeleteWorkoutConfirm=a.handleDeleteWorkoutConfirm.bind(Object(u.a)(a)),a.handleWorkoutAdd=a.handleWorkoutAdd.bind(Object(u.a)(a)),a.handleWorkoutUpdate=a.handleWorkoutUpdate.bind(Object(u.a)(a)),a.handleExerciseUpdate=a.handleExerciseUpdate.bind(Object(u.a)(a)),a.handleProfileClick=a.handleProfileClick.bind(Object(u.a)(a)),a.handleGoalUpdate=a.handleGoalUpdate.bind(Object(u.a)(a)),a.handleGoalAdd=a.handleGoalAdd.bind(Object(u.a)(a)),a.handleGoalDelete=a.handleGoalDelete.bind(Object(u.a)(a)),a.handleDoneClick=a.handleDoneClick.bind(Object(u.a)(a)),a.toggleSnackBar=a.toggleSnackBar.bind(Object(u.a)(a)),a.toggleProfileModal=a.toggleProfileModal.bind(Object(u.a)(a)),a.toggleLogWeightModal=a.toggleLogWeightModal.bind(Object(u.a)(a)),a.sendData=a.sendData.bind(Object(u.a)(a)),a.dataUpdated=a.dataUpdated.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.userData,n=t.dataLoadedHandler,o=t.URL;this.setState({data:Ut(M()(a)),timerId:setInterval(function(){fetch(v(o,C)).catch(function(t){return e.setState(function(e){var t=e.alive;if(t)return{alive:!t,doneMessage:"Network Error: changes may not be saved",showDoneMessage:!0}}),!1}).then(function(t){t&&e.setState(function(e){if(!e.alive)return{alive:!0,doneMessage:"network issue resolved",showDoneMessage:!0}})})},1e4)}),n()}},{key:"componentWillUnmount",value:function(){this.setState(function(e){var t=e.timerId;return clearInterval(t),{data:{}}})}},{key:"dataUpdated",value:function(){this.props.saveToLocalStorage("userData",this.state.data)}},{key:"sendData",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST",r=arguments.length>4?arguments[4]:void 0,l=this.state.alive,i=this.props.URL,s={method:o,body:n,headers:new Headers({"Content-Type":"application/json"})},c=new Request(v(i,e),s);l?fetch(c).catch(function(e){return a.setState(function(t){var a=t.status;return a.ok=!1,a.code=503,a.message=e.message,{status:a}}),!1}).then(function(e){return e?(a.setState(function(t){var a=t.status;return a.ok=e.ok,a.code=e.status,{status:a}}),e.json()):"Network Error"}).then(function(e){if(!a.state.status.ok)throw new Error("".concat(e));r?r(e):(a.setState({doneMessage:t}),a.toggleSnackBar())}).catch(function(e){a.setState({doneMessage:e.message}),a.toggleSnackBar()}):this.setState({doneMessage:"Network Error: changes not saved"})}},{key:"toggleSnackBar",value:function(){this.setState(function(e){return{showDoneMessage:!e.showDoneMessage}})}},{key:"handleWorkoutModalOpen",value:function(e){this.setState(function(t){return{workoutModalOpen:!t.workoutModalOpen,openModal:e}})}},{key:"handleWorkoutModalClose",value:function(){this.setState(function(e){return{workoutModalOpen:!e.workoutModalOpen}})}},{key:"handleWorkoutAddModalToggle",value:function(){this.setState(function(e){return{workoutAddModalOpen:!e.workoutAddModalOpen}})}},{key:"handleGoalAdd",value:function(e){var t=this,a="Set goal '".concat(e[je],"'");this.setState(function(t){var a=t.data;return a.goals.push(e),{data:a}},function(){t.dataUpdated()}),this.sendData(f.add,a,function(e){var t=e.uid,a=e.id,n=e.title,o=e.detail,r=e.deadline,l=e.complete,i={u_id:t,g_id:a,g_title:n,g_detail:o,g_deadline:r.toISOString().split("T")[0],g_complete:l?1:0};return JSON.stringify(i)}(Object(A.a)({},e,{uid:this.state.data.id})),"POST")}},{key:"handleGoalDelete",value:function(e){var t=this,a=this.state.data.goals,n=a.filter(function(t){return t.id===e})[0];a=a.filter(function(t){return t.id!==e});var o,r="Removed goal '".concat(n[je],"'");this.setState(function(e){var t=e.data;return t[Ee]=a,{data:t}},function(){t.dataUpdated()}),this.sendData(f.delete,r,(o=e,JSON.stringify({g_id:o})),"DELETE")}},{key:"handleGoalUpdate",value:function(e,t){var a=this,n="",o=this.state.data.goals.filter(function(t){return t.id===e})[0];t?(o[we]=!0,o[Ae]=new Date,n="Accomplished goal '".concat(o[je],"'")):t||(o[we]=!1,o[Ae]=void 0,n="Reset goal '".concat(o[je],"'")),this.setState(function(e){return{data:e.data}},function(){a.dataUpdated()}),this.sendData(f.update,n,function(e){var t=e.id,a=e.complete,n=e.dateCompleted,o={g_id:t,g_complete:a?1:0,g_date_completed:a?n.toISOString().split("T")[0]:""};return JSON.stringify(o)}(o),"PUT")}},{key:"handleWorkoutAdd",value:function(e){var t=this,a="Added workout '".concat(e[De.name],"'"),n=this.state.data[Oe].length;e.seq=n,this.setState(function(t){var a=t.data;return a[Oe].push(e),{data:a}},function(){t.dataUpdated()}),this.sendData(b.add,a,function(e){var t=e.uid,a=e.id,n=e.days,o=e.exercises,r=e.name,l=e.note,i={u_id:t,w_id:a,w_seq:e.seq,w_name:r,w_note:l,w_days:n.join(","),w_exercises:w(o),w_date:(new Date).toISOString().split("T")[0]};return JSON.stringify(i)}(Object(A.a)({},e,{uid:this.state.data.id})),"POST")}},{key:"handleDeleteWorkoutConfirm",value:function(e,t){var a,n=this,o="Deleted workout '".concat(t,"'");this.setState(function(t){var a=t.data,n=a.workouts;return a.workouts=n.filter(function(t){return t.id!==e}),a.workouts.forEach(function(e,t){return e.seq=t}),{data:a,openModal:0}},function(){n.dataUpdated()}),this.sendData(b.delete,o,(a=e,JSON.stringify({w_id:a})),"DELETE")}},{key:"handleWorkoutUpdate",value:function(e,t,a,n,o,r,l,i){var s=this,c="Updated workout '".concat(t,".'"),d=this.state.data.workouts.filter(function(t){return t.id===e})[0];d[De.name]=t,d[De.note]=a,d[De.exercises]=n,d[De.days]=o,this.setState(function(e){return{data:e.data}},function(){s.dataUpdated()}),this.sendData(b.update,c,function(e){var t=e.id,a=e.name,n=e.seq,o=e.days,r=e.note,l=e.exercises,i=e.wED,s={w_id:t,w_name:a,w_seq:n,w_date:(new Date).toISOString().split("T")[0],w_days:o.join(","),w_note:r,w_exercises:w(l),w_exercises_deleted:i};return JSON.stringify(s)}(Object(A.a)({},d,{wED:r})),"PUT")}},{key:"handleExerciseUpdate",value:function(e,t,a,n,o,r,l){var i=this,s="Updated exercise '".concat(o,"'.");this.setState(function(r){var l=r.data,i=l[Oe].filter(function(t){return t.id===e})[0][De.exercises].filter(function(e){return e.id===t})[0];return i[Me.sets]=a,i[Me.note]=n,i[Me.name]=o,{data:l}},function(){i.dataUpdated()});var c=function(e){var t=e.wid,a=e.eid,n=e.sets,o=e.note,r={w_id:t,e_id:a,e_name:e.name,e_note:o,e_seq:e.seq,e_unit:e.units,w_date:(new Date).toISOString().split("T")[0],e_cycles:j(n)};return JSON.stringify(r)}({wid:e,eid:t,sets:a,note:n,name:o,seq:r,units:l});this.sendData(k.update,s,c,"PUT")}},{key:"handleDoneClick",value:function(e){var t=this,a=this.state.data[Oe].filter(function(t){return t.id===e})[0],n=new Date,o="Completed ".concat(a.name," on ").concat(n.toDateString(),".");this.setState(function(t){var a=t.data;return a.workouts.forEach(function(t){t.id===e&&(t[De.last]=n)}),{data:a}},function(){t.dataUpdated()}),this.sendData(b.done,o,function(e){var t=e.id,a=e.last,n=e.note,o=e.exercises,r={w_id:t,w_date:a.toISOString().split("T")[0],w_note:n,w_exercises:w(o,!0)};return JSON.stringify(r)}(Object(A.a)({},a,{last:n})),"PUT")}},{key:"toggleProfileModal",value:function(){this.setState(function(e){return{profileModalOpen:!e.profileModalOpen}})}},{key:"toggleLogWeightModal",value:function(){this.setState(function(e){return{logWeightModalOpen:!e.logWeightModalOpen}})}},{key:"handleLogWeightModalUpdate",value:function(e){var t=this,a=parseFloat(e),n="Logged weight: ".concat(a," ").concat(this.state.wUnit,"."),o=this.state.data.id;this.setState(function(e){var t=e.data;return t.weight=a,{data:t}},function(){t.dataUpdated()}),this.sendData(g.weightLog,n,function(e){var t=e.id,a=e.value,n={u_id:t,u_date_created:(new Date).toISOString().split("Z")[0],u_weight:a};return JSON.stringify(n)}({id:o,value:a}),"PUT")}},{key:"handleProfileClick",value:function(){this.toggleProfileModal()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.logoutHandler,r=this.state,l=r.workoutModalOpen,i=r.profileModalOpen,s=r.openModal,c=r.showDoneMessage,d=r.doneMessage,u=r.doneMessageDuration,p=r.workoutAddModalOpen,h=r.logWeightModalOpen,m=r.wUnit,g=r.hUnit,f=this.state.data,b=f.goals,k=f.workouts,C=f.id,v=f.fname,y=f.lname,E=f.weight,O=f.height;return o.a.createElement("div",{className:a.mainContainer},o.a.createElement(I,{handleLogout:n,handleProfileClick:this.handleProfileClick,handleLogWeightClick:this.toggleLogWeightModal}),o.a.createElement(Pe,{workouts:k,goals:b,handleWorkoutAddModalToggle:this.handleWorkoutAddModalToggle,handleWorkoutModalOpen:this.handleWorkoutModalOpen,handleGoalDelete:this.handleGoalDelete,handleGoalUpdate:this.handleGoalUpdate,handleGoalAdd:this.handleGoalAdd}),o.a.createElement("div",{className:a.cardsContainer},k.map(function(t,a){return o.a.createElement(vt,{sendData:e.sendData,workout:t,key:a,handleExerciseUpdate:e.handleExerciseUpdate,handleDoneClick:e.handleDoneClick,handleWorkoutModalOpen:function(){e.handleWorkoutModalOpen(a)}})})),0!==k.length&&o.a.createElement(It,{key:x()(),open:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:u,onClose:this.toggleSnackBar,message:o.a.createElement(B.a,{className:a.snackText},d)}),0!==k.length&&o.a.createElement(Rt,{sendData:this.sendData,key:k[s].id,wid:k[s].id,open:l,workout:k[s],handleWorkoutUpdate:this.handleWorkoutUpdate,handleDeleteWorkoutConfirm:this.handleDeleteWorkoutConfirm,handleClose:this.handleWorkoutModalClose}),o.a.createElement(Gt,{open:p,handleWorkoutAddModalToggle:this.handleWorkoutAddModalToggle,handleWorkoutAdd:this.handleWorkoutAdd}),v.length>0&&o.a.createElement(Qe,{key:C+E,open:i,sendData:this.sendData,id:C,fname:v,lname:y,weight:E,height:O,handleClose:this.toggleProfileModal,wUnit:m,hUnit:g}),o.a.createElement(at,{key:E,open:h,handleClose:this.toggleLogWeightModal,handleUpdate:this.handleLogWeightModalUpdate,wUnit:m,initValue:E}))}}]),t}(o.a.Component),Ht=Object(T.a)(xt)(_t),Lt=a(66),zt=a(161),Ft=function(e){return{form:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"16px",width:"288px",marginBottom:8,background:Object(G.fade)(Object(G.darken)(e.palette.secondary.dark,.8),.6),borderRadius:"0px",backdropFilter:"blur(4px)"},loginTitle:{color:e.palette.primary.light,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"4px"},textField:{marginBottom:"16px"},button:{marginTop:"8px",borderRadius:0,background:Object(G.fade)(e.palette.primary.main,.7),"&:hover":{background:Object(G.fade)(e.palette.primary.main,1)}},link:{textShadow:"0px 1px 2px black",textTransform:"uppercase",cursor:"pointer",color:e.palette.primary.main,textAlign:"center"},message:{textAlign:"center",textTransform:"uppercase",fontSize:"0.8em",letterSpacing:"1px"},error:{color:e.palette.error[400]},info:{color:e.palette.success[400]}}},Pt=Object(T.a)(function(e){return{root:{"& label":{color:e.palette.primary.main},"& .MuiInput-underline:before":{borderBottom:"solid 1px ".concat(Object(G.fade)(e.palette.primary.main,.5))},"& .MuiInput-underline:after":{borderBottom:"solid 2px ".concat(e.palette.primary.main)},"& .MuiInput-underline:hover:not($disabled):not($focused):not($error):before":{height:"1px",border:"1px solid ".concat(Object(G.darken)(e.palette.primary.main,.4))},"& .MuiInputBase-input":{color:e.palette.primary.light},"& .MuiInputBase-input::-webkit-inner-spin-button":{appearance:"none"},"& .MuiTypography-colorTextSecondary":{color:Object(G.fade)(e.palette.primary.main,.5)}}}})(he.a),qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={inputNames:{username:"username",password:"password",repassword:"repassword",fname:"first name",lname:"last name",height:"height",weight:"weight"},values:{username:"",password:"",repassword:"","first name":"","last name":"",height:"",weight:""},isRegister:!1,error:""},a.linkClickHandler=a.linkClickHandler.bind(Object(u.a)(a)),a.submitClickHandler=a.submitClickHandler.bind(Object(u.a)(a)),a.inputChangeHandler=a.inputChangeHandler.bind(Object(u.a)(a)),a.inputValidator=a.inputValidator.bind(Object(u.a)(a)),a.loginValidator=a.loginValidator.bind(Object(u.a)(a)),a.registerValidator=a.registerValidator.bind(Object(u.a)(a)),a.postRegisterHandler=a.postRegisterHandler.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"inputValidator",value:function(e){return""!==e}},{key:"loginValidator",value:function(){var e=this,t=this.state,a=t.inputNames,n=t.values,o=[a.password,a.username],r=!0;return o.forEach(function(t){e.inputValidator(n[t])||(e.setState({error:"".concat(t," is empty")}),r=!1)}),r}},{key:"registerValidator",value:function(){var e=this,t=this.state,a=t.inputNames,n=t.values,o=[a.repassword,a.password,a.lname,a.fname],r=[a.weight,a.height],l=!0;return o.forEach(function(t){e.inputValidator(n[t])||(e.setState({error:"".concat(t," is empty")}),l=!1)}),n[a.password]!==n[a.repassword]&&(this.setState({error:"passwords don't match"}),l=!1),l&&r.forEach(function(t){(isNaN(parseFloat(n[t]))||typeof n[t]<=0)&&(e.setState({error:"".concat(t," is invalid")}),l=!1)}),l}},{key:"inputChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){var t=e.values;return t[a]=n,{values:t}})}},{key:"linkClickHandler",value:function(){var e=this.props,t=e.dismissRegister;e.registered&&(t(),this.state.isRegister&&this.postRegisterHandler()),this.setState(function(e){return{isRegister:!e.isRegister,error:""}})}},{key:"postRegisterHandler",value:function(){this.setState(function(e){var t=e.values,a=e.isRegister;return Object.keys(t).forEach(function(e){return t[e]=""}),{values:t,isRegister:!a,error:""}})}},{key:"submitClickHandler",value:function(e){e.preventDefault();var t=this.state.isRegister,a=this.loginValidator();t&&a&&this.registerValidator()?this.props.registerHandler(this.state.values):a&&this.props.loginHandler(this.state.values)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.fetchError,n=e.fetchInfo,r=this.state,l=r.error,i=r.isRegister,s=r.inputNames,c=r.values;return o.a.createElement("div",{style:{marginTop:48}},o.a.createElement(z.a,{in:""!==l||""!==a},o.a.createElement(B.a,{className:"".concat(t.message," ").concat(t.error)},a||l)),o.a.createElement(z.a,{in:""!==n&&""===a},o.a.createElement(B.a,{className:"".concat(t.message," ").concat(t.info)},n)),o.a.createElement(Lt.a,{component:"form",elevation:10,className:t.form,id:"login-form"},o.a.createElement(B.a,{component:"h3",className:t.loginTitle},i?"register":"login"),o.a.createElement(Pt,{autoComplete:"off",label:"Username",fullWidth:!0,className:t.textField,name:s.username,value:c[s.username],onChange:this.inputChangeHandler}),o.a.createElement(Pt,{label:"Password",autoComplete:"off",fullWidth:!0,type:"password",className:t.textField,name:s.password,value:c[s.password],onChange:this.inputChangeHandler}),o.a.createElement(z.a,{in:i},o.a.createElement(Pt,{label:"Re Password",autoComplete:"off",fullWidth:!0,type:"password",className:t.textField,name:s.repassword,value:c[s.repassword],onChange:this.inputChangeHandler}),o.a.createElement(Pt,{autoComplete:"off",label:"First Name",fullWidth:!0,className:t.textField,name:s.fname,value:c[s.fname],onChange:this.inputChangeHandler}),o.a.createElement(Pt,{autoComplete:"off",label:"Last Name",fullWidth:!0,className:t.textField,name:s.lname,value:c[s.lname],onChange:this.inputChangeHandler}),o.a.createElement(Pt,{autoComplete:"off",label:"Height",fullWidth:!0,className:t.textField,name:s.height,value:c[s.height],onChange:this.inputChangeHandler,type:"number",InputProps:{endAdornment:o.a.createElement(Xe.a,{position:"end"},"cm")}}),o.a.createElement(Pt,{autoComplete:"off",label:"Weight",fullWidth:!0,className:t.textField,name:s.weight,value:c[s.weight],onChange:this.inputChangeHandler,type:"number",InputProps:{endAdornment:o.a.createElement(Xe.a,{position:"end"},"kg")}})),o.a.createElement(se.a,{fullWidth:!0,variant:"contained",type:"submit",size:"medium",className:t.button,onClick:this.submitClickHandler},"submit")),o.a.createElement(zt.a,{className:t.link,onClick:this.linkClickHandler},o.a.createElement(B.a,null,i?"login":"register")))}}]),t}(o.a.Component),Vt=Object(T.a)(Ft)(qt),Jt=a(82),$t=a.n(Jt),Kt=function(e){return{titleBox:{textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{color:e.palette.primary.main,fontFamily:e.typography.titleFontFamily,letterSpacing:"10px",fontSize:"6rem",textShadow:"0px 1px 4px rgba(0,0,0,0.7)"},subtitle:{color:e.palette.primary.main,fontFamily:e.typography.titleFontFamily,fontWeight:400,letterSpacing:"8px",fontSize:"1.4rem",textShadow:"0px 1px 4px rgba(0,0,0,0.7)"},container:{height:"100%",display:"flex",justifyContent:"space-around",alignItems:"center",background:"url(".concat($t.a,")"),backgroundSize:"cover"}}},Yt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.loginHandler,n=e.registerHandler,r=e.fetchError,l=e.fetchInfo,i=e.registered,s=e.dismissRegister;return o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.titleBox},o.a.createElement(B.a,{variant:"h1",component:"h1",className:t.title},"FETZEN"),o.a.createElement(B.a,{variant:"h2",component:"h2",className:t.subtitle},"The workout tracker.")),o.a.createElement(Vt,{loginHandler:a,fetchError:r,registerHandler:n,fetchInfo:l,registered:i,dismissRegister:s}))}}]),t}(o.a.Component),Zt=Object(T.a)(Kt)(Yt),Qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={loggedin:!1,registered:!1,userData:{},status:{},error:"",info:""},a.loginHandler=a.loginHandler.bind(Object(u.a)(a)),a.logoutHandler=a.logoutHandler.bind(Object(u.a)(a)),a.dataLoaded=a.dataLoaded.bind(Object(u.a)(a)),a.registerHandler=a.registerHandler.bind(Object(u.a)(a)),a.dismissRegister=a.dismissRegister.bind(Object(u.a)(a)),a.saveToLocalStorage=a.saveToLocalStorage.bind(Object(u.a)(a)),a.getFromLocalStorage=a.getFromLocalStorage.bind(Object(u.a)(a)),a.clearLocalStroage=a.clearLocalStroage.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"dismissRegister",value:function(){this.setState({userData:{},status:{},error:"",info:"",registered:!1,loggedin:!1})}},{key:"dataLoaded",value:function(){this.setState({userData:{},status:{},error:"",info:""})}},{key:"componentDidMount",value:function(){if(JSON.parse(this.getFromLocalStorage("loggedin"))){var e=this.getFromLocalStorage("userData"),t=JSON.parse(this.getFromLocalStorage("loginTime"));e&&this.isNotTimeout(t)?this.setState({loggedin:!0,userData:JSON.parse(e)}):this.clearLocalStroage()}}},{key:"isNotTimeout",value:function(e){var t=m()(e);return m.a.duration(m()((new Date).toISOString()).diff(t)).asHours()<1}},{key:"saveToLocalStorage",value:function(e,t){try{localStorage?(t?localStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,JSON.stringify(this.state.userData)),localStorage.setItem("loginTime",JSON.stringify((new Date).toISOString()))):console.error("local storage not present")}catch(a){console.error(a)}}},{key:"getFromLocalStorage",value:function(e){try{if(localStorage)return localStorage.getItem(e);console.error("local storage not present")}catch(t){console.error(t)}}},{key:"clearLocalStroage",value:function(){try{localStorage?localStorage.clear():console.error("local storage not present")}catch(e){console.error(e)}}},{key:"loginHandler",value:function(e){var t=this,a=new Headers({"Content-Type":"application/json"}),n={method:"POST",body:E(e),headers:a},o=new Request(v(this.props.URL,g.login),n);fetch(o).catch(function(e){return t.setState(function(t){var a=t.status;return a.ok=!1,a.code=503,a.message=e.message,{status:a}}),!1}).then(function(e){return e?(t.setState(function(t){var a=t.status;return a.ok=e.ok,a.code=e.status,{status:a}}),e.json()):"network error"}).then(function(e){if(t.state.status.ok)return t.saveToLocalStorage("loginTime",(new Date).toISOString()),t.saveToLocalStorage("userData",e),t.setState({userData:e}),!0;throw new Error("".concat(e))}).then(function(e){e&&(t.saveToLocalStorage("loggedin",!0),t.setState({loggedin:!0,info:"logging in"}))}).catch(function(e){t.setState({error:e.message})})}},{key:"registerHandler",value:function(e){var t=this,a=new Headers({"Content-Type":"application/json"}),n={method:"POST",body:O(e),headers:a},o=new Request(v(this.props.URL,g.register),n);fetch(o).catch(function(e){return t.setState(function(t){var a=t.status;return a.ok=!1,a.code=503,a.message=e.message,{status:a}}),!1}).then(function(e){return e?(t.setState(function(t){var a=t.status;return a.ok=e.ok,a.code=e.status,{status:a}}),e.json()):"network error"}).then(function(e){if(!t.state.status.ok)throw new Error("".concat(e));t.setState({registered:!0,info:e})}).catch(function(e){t.setState({error:e.message})})}},{key:"logoutHandler",value:function(){this.clearLocalStroage(),this.setState({loggedin:!1,registered:!1,userData:{},status:{},error:"",info:""})}},{key:"render",value:function(){var e=this.state,t=e.loggedin,a=e.userData,n=e.error,r=e.info,l=e.registered,i=this.props.URL;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(Ht,{userData:a,dataLoadedHandler:this.dataLoaded,URL:i,logoutHandler:this.logoutHandler,saveToLocalStorage:this.saveToLocalStorage}),!t&&o.a.createElement(Zt,{loginHandler:this.loginHandler,registerHandler:this.registerHandler,fetchError:n,fetchInfo:r,registered:l,dismissRegister:this.dismissRegister}))}}]),t}(o.a.Component),Xt=a(170),ea=a(164),ta=a(83),aa=a(162),na=a(62),oa=a(163),ra=a(63),la=Object(ta.a)({palette:{primary:{main:aa.a[500]},secondary:{light:na.a[600],main:na.a[900]},success:oa.a,error:ra.a},typography:{fontFamily:"'Lato', 'sans-serif'",titleFontFamily:"'Righteous', Arial, 'sans-serif'"}});document.getElementsByTagName("html")[0].style.backgroundColor=la.palette.secondary.light,document.getElementsByTagName("body")[0].style.backgroundColor=la.palette.secondary.light,document.getElementById("root").style.backgroundColor=la.palette.secondary.light;var ia,sa=la;ia="https://fetzen-server.herokuapp.com",l.a.render(o.a.createElement(ea.a,{theme:sa},o.a.createElement(Xt.a,null),o.a.createElement(Qt,{URL:ia})),document.getElementById("root"))},82:function(e,t,a){e.exports=a.p+"static/media/bg_image_half_res.dee696b4.jpg"},90:function(e,t,a){e.exports=a(108)},91:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.8aa4ec34.chunk.js.map